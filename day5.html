<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงูููู ุงูุฎุงูุณ: ุงูุฃูู ูุงูุฏูุงุน - ุฏูุฑุฉ GIS ุงููุณุชูู 0</title>

   <link rel="stylesheet" href="css/leaflet.css" />

   <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
    <link href="css/font.css"
        rel="stylesheet">

     <style>
        :root {
            --glass-bg: rgba(15, 23, 42, 0.08);
            --glass-border: rgba(255, 255, 255, 0.2);
            --primary-accent: #3b82f6;
            --text-main: #1e293b;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: #ffffff;
            color: var(--text-main);
            margin: 0;
            overflow-x: hidden;
        }

        #map-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        #scrolly {
            position: relative;
            z-index: 10;
            pointer-events: none;
        }

        .step {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0 5%;
            margin-bottom: 50vh;
        }

        .narrative-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            width: 450px;
            max-width: 85%;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            pointer-events: auto;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .step.active .narrative-panel {
            transform: scale(1.02);
            border-color: var(--primary-accent);
        }

        .step.fullscreen {
            justify-content: center;
            padding: 0;
        }

        .content-box {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 32px;
            padding: 60px;
            text-align: center;
            max-width: 800px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15);
            pointer-events: auto;
        }

        h1,
        h2,
        h3 {
            color: #0f172a;
            margin-top: 0;
        }

        p {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #334155;
        }

        #progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }

        #progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.3s;
        }

        #map-tooltip {
            position: fixed;
            z-index: 50;
            top: 30px;
            right: 30px;
            background: #b8c4eb;
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            font-size: 0.95rem;
            max-width: 300px;
            font-weight: 700;
            color: #1e293b;
            border-right: 5px solid #3b82f6;
        }

      #steps-bar{
    position: fixed;
    top: 12px;
    left: 30%;
    transform: translateX(-50%);
    z-index: 999999;
    width: min(950px, 95%);
    padding: 12px 14px;
    border-radius: 18px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(14px);
    border: 1px solid rgba(255,255,255,0.25);
    box-shadow: 0 10px 35px rgba(0,0,0,0.25);
}

#steps-title{
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    color: #0f172a;
    font-weight: 800;
    font-size: 14px;
}

#step-counter{
    font-weight: 900;
    font-size: 13px;
    opacity: 0.9;
}

#step-icons{
    display: flex;
    gap: 8px;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 6px 4px;
    scroll-behavior: smooth;
    white-space: nowrap;
}

#step-icons::-webkit-scrollbar{
    height: 6px;
}

#step-icons::-webkit-scrollbar-thumb{
    background: rgba(0,0,0,0.25);
    border-radius: 10px;
}

.step-icon{
    min-width: 34px;
    height: 34px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    font-size: 13px;
    font-weight: 900;
    color: rgba(15,23,42,0.75);
    background: rgba(255,255,255,0.25);
    border: 1px solid rgba(255,255,255,0.35);
    transition: 0.25s ease;
}

.step-icon:hover{
    transform: translateY(-2px);
    background: rgba(255,255,255,0.45);
    color: #0f172a;
}

/* DONE */
.step-icon.done{
    background: rgba(16, 185, 129, 0.25);
    border: 1px solid rgba(16, 185, 129, 0.7);
    color: #065f46;
}

/* ACTIVE */
.step-icon.active{
    background: rgba(59, 130, 246, 0.35);
    border: 1px solid rgba(59, 130, 246, 0.9);
    color: #0f172a;
    transform: scale(1.1);
    box-shadow: 0 0 18px rgba(59, 130, 246, 0.6);
}


        .step-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(4px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: #64748b;
            cursor: pointer;
            transition: 0.3s;
        }

        .step-icon:hover,
        .step-icon.active {
            background: #3b82f6;
            color: white;
            transform: scale(1.2);
        }

        .step-icon.done {
            background: #10b981;
            color: white;
        }

        .story-nav {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: #3280ff;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-btn:hover:not(:disabled) {
            background: #3b82f6;
            transform: translateY(-3px);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

       @media (max-width: 900px) {
    #steps-bar{
        top: 8px;
        width: 96%;
    }

    .step-icon{
        min-width: 30px;
        height: 30px;
        font-size: 12px;
        border-radius: 10px;
    }
}
#steps-bar {
    position: fixed;
    bottom: 20px; /* ุฃุณูู ุงูุตูุญุฉ */
    left: 20px;  /* ูููู ุชุบููุฑู ุฅูู left ุฅุฐุง ุฃุฑุฏุช ุนูู ุงููุณุงุฑ */
    z-index: 999999;
    width: 60px;  /* ุนุฑุถ ุงูุนููุฏ */
    padding: 10px 0;
    border-radius: 18px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(14px);
    border: 1px solid rgba(255,255,255,0.25);
    box-shadow: 0 10px 35px rgba(0,0,0,0.25);

    display: flex;
    flex-direction: column; /* ุนููุฏู */
    align-items: center;
    gap: 8px;
        align-self: center;
}

#steps-title {
    writing-mode: vertical-rl; /* ูุฌุนู ุงููุต ุนููุฏู */
    transform: rotate(180deg); /* ูุชุตุญูุญ ุงูุงุชุฌุงู */
    font-size: 12px;
    font-weight: 800;
    color: #0f172a;
    margin-bottom: 10px;
}

#step-icons {
    display: flex;
    flex-direction: column; /* ุฃููููุงุช ุนููุฏูุฉ */
    gap: 8px;
    overflow-y: auto;
    max-height: 70vh; /* ููููู ุชุบููุฑูุง ุญุณุจ ุงูุญุงุฌุฉ */
    scroll-behavior: smooth;
    white-space: normal; /* ูุฅููุงู ุงูุชุณุทูุฑ ุงูุฃููู */
    padding: 4px 0;
}

#step-icons::-webkit-scrollbar {
    width: 6px;
}

#step-icons::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.25);
    border-radius: 10px;
}

    </style>
</head>

<body>
  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>
  <div id="map-tooltip">ูุฑุญุจุงู ุจู ูู ุงูููู ุงูุฎุงูุณ ๐</div>
  <div id="map-container">
    <div id="map"></div>
  </div>
 <div id="map-container">
    <div id="map"></div>
</div>

<div id="steps-bar">
    <div id="steps-title">
        <span id="step-label"></span>
        <span id="step-counter">1 / 50</span>
    </div>
    <div id="step-icons"></div>
</div>


  <main id="scrolly">
    <!-- Slides 1 - 50 -->
    <section id="s1" class="step fullscreen" data-step="s1">
      <div class="content-box">
        <h1>ุงูููู ุงูุฎุงูุณ: ุงูุฃูู ูุงูุฏูุงุน ุงูุฌุบุฑุงูู ๐๏ธ</h1>
        <p>ุณูุชุนุฑู ุนูู ููููุฉ ุชุญููู ุงูุฌุบุฑุงููุง ุฅูู ููุฉ ุงุณุชุฑุงุชูุฌูุฉ ูุญูุงูุฉ ุงูุญุฏูุฏ ูุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ูุจูุงุก ุงููุนู ุงูุฅููููู.</p>
        
      </div>
    </section>

    <section id="s2" class="step" data-step="s2">
      <div class="narrative-panel">
        <h2>ุงููุนู ุจุงููููู (Situational Awareness)</h2>
        <p>ุงููุฏุฑุฉ ุนูู ุฑุคูุฉ ูููู ูุง ูุญุฏุซ ูู ุงููุญูุท ุงูููุงูู ูุงุชุฎุงุฐ ูุฑุงุฑุงุช ุณุฑูุนุฉ ูุฏูููุฉ ูู ุงูููุช ุงูููุงุณุจ.</p>
      </div>
    </section>
    <section id="s3" class="step" data-step="s3">
      <div class="narrative-panel">
        <h2>ุฏูุฑ GIS ุงูุงุณุชุฑุงุชูุฌู</h2>
        <p>ูู ูุฑุงุฑ ุฏูุงุนู ูุจุฏุฃ ุจู "ุฃููุ". ูุธุงู ุงููุนูููุงุช ุงูุฌุบุฑุงูู ูู ุงูุนูู ุงููุฏุจุฑ ูุฑุจุท ุงูุจูุงูุงุช ุจุงููููุน.</p>
      </div>
    </section>
    <section id="s4" class="step" data-step="s4">
      <div class="narrative-panel">
        <h2>ุชููุน ุงูุชุถุงุฑูุณ ุงูุฅููููู</h2>
        <p>ุงูุดุฑู ุงูุฃูุณุท ูุฌูุน ุงูุฌุจุงูุ ุงูุตุญุงุฑูุ ูุงูุณูุงุญูุ ููุง ูุชุทูุจ ุชุญูููุงู ููุงููุงู ูุงุฆู ุงูุฏูุฉ ููู ุจูุฆุฉ.</p>
      </div>
    </section>
    <section id="s5" class="step" data-step="s5">
      <div class="narrative-panel">
        <h2>ุชุญููู ุงูุงูุญุฏุงุฑ (Slope)</h2>
        <p>ุชุญุฏูุฏ ุฒูุงูุง ููู ุงูุฃุฑุถ ูุชุญุฏูุฏ ุงููุณุงุฑุงุช ุงูููููุฉ ููุขููุงุช ุงูุซูููุฉ ูููุงุทู ุงูุฅูุฒุงู ุงููุธูู.</p>
      </div>
    </section>
    <section id="s6" class="step" data-step="s6">
      <div class="narrative-panel">
        <h2>ุชุญููู ุงูุฑุคูุฉ (Viewshed)</h2>
        <p>ุชุญุฏูุฏ ูุง ูููู ุฑุคูุชู ูู ููุทุฉ ูุฑุชูุนุฉุ ููู ุฌููุฑ ุชุฎุทูุท ุฃุจุฑุงุฌ ุงููุฑุงูุจุฉ ูููุงุท ุงูุฏูุงุน.</p>
      </div>
    </section>
    <section id="s7" class="step" data-step="s7">
      <div class="narrative-panel">
        <h2>ูุถูู ูุฑูุฒ ุงูุงุณุชุฑุงุชูุฌู</h2>
        <p>ุชุญููู ุงูููุฑุงุช ุงูุจุญุฑูุฉ ูุญูุงูุฉ ุฎุทูุท ุงูููุงุญุฉ ุงูุชู ุชุดูู ุดุฑูุงู ุงูุทุงูุฉ ููุนุงูู.</p>
      </div>
    </section>
    <section id="s8" class="step" data-step="s8">
      <div class="narrative-panel">
        <h2>ุจุงุจ ุงูููุฏุจ ูุงููุฎุงุทุฑ</h2>
        <p>ุงุณุชุฎุฏุงู GIS ููุฑุงูุจุฉ ุงูุชูุฏูุฏุงุช ุงูุจุญุฑูุฉ ูุชุฃููู ุญุฑูุฉ ุงูุชุฌุงุฑุฉ ูู ุงูููุฑุงุช ุงูุฏูููุฉ ุงูุถููุฉ.</p>
      </div>
    </section>
    <section id="s9" class="step" data-step="s9">
      <div class="narrative-panel">
        <h2>ุฃูู ููุงุฉ ุงูุณููุณ</h2>
        <p>ุชุทุจููุงุช GIS ูู ุฅุฏุงุฑุฉ ุงูุทูุงุฑุฆ ุงูุจุญุฑูุฉ ูุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ ูู ุงููููุงุช ุงูุญูููุฉ.</p>
      </div>
    </section>
    <section id="s10" class="step" data-step="s10">
      <div class="narrative-panel">
        <h2>ุฅุฏุงุฑุฉ ุงูููุดุขุช ุงูุนุณูุฑูุฉ</h2>
        <p>ุชุฎุทูุท ูุชุฃููู ุงูููุงุนุฏ ูุงููุฎุงุฒู ููุฑุงูุฒ ุงูููุงุฏุฉ ุจุงุณุชุฎุฏุงู ุฎุฑุงุฆุท ุงูุฑุจุท ุงูููุฌุณุชู.</p>
      </div>
    </section>

    <section id="s11" class="step" data-step="s11">
      <div class="narrative-panel">
        <h2>ูุทุงูุงุช ุงูุญูุงูุฉ (Buffer Zones)</h2>
        <p>ุฅูุดุงุก ุฃุญุฒูุฉ ุฃูุงู ุญูู ุงูููุงูุน ุงูุญุณุงุณุฉ ูููุน ุงูุงูุชุฑุงุจ ุฃู ุงูุชุนุฏู ุงูุนุดูุงุฆู.</p>
      </div>
    </section>
    <section id="s12" class="step" data-step="s12">
      <div class="narrative-panel">
        <h2>ุชุฎุทูุท ุงูุฅูุฏุงุฏ ูุงูุชูููู</h2>
        <p>ุชุญุณูู ุทุฑู ุงูููุงูู ุงูููุฌุณุชูุฉ ูุถูุงู ูุตูู ุงูุฅูุฏุงุฏุงุช ุจุฃุณุฑุน ููุช ูุฃูู ูุฎุงุทุฑุฉ.</p>
      </div>
    </section>
    <section id="s13" class="step" data-step="s13">
      <div class="narrative-panel">
        <h2>ุงููุฑุงูุจุฉ ุนุจุฑ ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ</h2>
        <p>ุงุณุชุฎุฏุงู ุงูุตูุฑ ุงููุถุงุฆูุฉ ูุฑุตุฏ ุงูุชุบูุฑุงุช ุงูุนูุฑุงููุฉ ูุงูุชุญุฑูุงุช ุงูููุฏุงููุฉ ุจุฏูุฉ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ.</p>
      </div>
    </section>
    <section id="s14" class="step" data-step="s14">
      <div class="narrative-panel">
        <h2>ุชุชุจุน ุงูุฃุตูู ูู ุงูููุช ุงููุนูู</h2>
        <p>ุฑุจุท GPS ุจุงูุฎุฑุงุฆุท ููุฑุงูุจุฉ ุญุฑูุฉ ุงูุฏูุฑูุงุช ูุงููุฑู ุงูููุฏุงููุฉ ูู ุบุฑู ุงูุนูููุงุช.</p>
      </div>
    </section>
    <section id="s15" class="step" data-step="s15">
      <div class="narrative-panel">
        <h2>ุฃูู ุงูุญุฏูุฏ (Border Security)</h2>
        <p>ุชุญููู ุงูุฎุท ุงูุญุฏูุฏู ุฅูู ููุธููุฉ ุฑูููุฉ ูุชูุงููุฉ ูู ุงูุญุณุงุณุงุช ูุงููุงููุฑุงุช ูุฃุจุฑุงุฌ ุงููุฑุงูุจุฉ.</p>
      </div>
    </section>
    <section id="s16" class="step" data-step="s16">
      <div class="narrative-panel">
        <h2>ูุดู ุฃููุงุท ุงูุชูุฑูุจ</h2>
        <p>ุชุญููู ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ ูุงูุชุดุงู ุงูุซุบุฑุงุช ุงูุฌุบุฑุงููุฉ ุงูุชู ุชุณุชุฎุฏููุง ุดุจูุงุช ุงูุชูุฑูุจ.</p>
      </div>
    </section>
    <section id="s17" class="step" data-step="s17">
      <div class="narrative-panel">
        <h2>ุญูุงูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุญูููุฉ</h2>
        <p>ุชุฃููู ูุญุทุงุช ุงูุทุงูุฉุ ุงูุณุฏูุฏุ ูุดุจูุงุช ุงูููุงู ุจุงุณุชุฎุฏุงู ุงูุชุญููู ุงูููุงูู ูููุฎุงุทุฑ.</p>
      </div>
    </section>
    <section id="s18" class="step" data-step="s18">
      <div class="narrative-panel">
        <h2>ุฃูู ุฎุทูุท ุงูุฃูุงุจูุจ</h2>
        <p>ูุฑุงูุจุฉ ุขูุงู ุงููููููุชุฑุงุช ูู ุฎุทูุท ุงูููุท ูุงูุบุงุฒ ุนุจุฑ ูุธู ุงูุฅูุฐุงุฑ ุงููุจูุฑ ุงูุฌุบุฑุงูู.</p>
      </div>
    </section>
    <section id="s19" class="step" data-step="s19">
      <div class="narrative-panel">
        <h2>ุงูุฃูู ุงูุณูุจุฑุงูู ุงูููุงูู</h2>
        <p>ุชุญุฏูุฏ ุงูููุงูุน ุงูุฌุบุฑุงููุฉ ููุฌูุงุช ุงูุดุจูุงุช ูุญูุงูุฉ ูุฑุงูุฒ ุงูุจูุงูุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ.</p>
      </div>
    </section>
    <section id="s20" class="step" data-step="s20">
      <div class="narrative-panel">
        <h2>ุฅุฏุงุฑุฉ ุงูุฃุฒูุงุช ูุงูููุงุฑุซ</h2>
        <p>ุงุณุชุฎุฏุงู GIS ููุชูุณูู ุจูู ุงูุฌูุงุช ุงูุฃูููุฉ ูุงููุฏููุฉ ูู ุญุงูุงุช ุงูุทูุงุฑุฆ ุงููุจุฑู.</p>
      </div>
    </section>

    <section id="s21" class="step" data-step="s21">
      <div class="narrative-panel">
        <h2>ุงูุฑุงุฏุงุฑ ูุชููุนุงุช ุงูุชุบุทูุฉ</h2>
        <p>ูุญุงูุงุฉ ูุฏู ุชุบุทูุฉ ุงูุฑุงุฏุงุฑุงุช ูุงูุงุชุตุงูุงุช ุจูุงุกู ุนูู ุงูุชุถุงุฑูุณ ุงููุญูุทุฉ.</p>
      </div>
    </section>
    <section id="s22" class="step" data-step="s22">
      <div class="narrative-panel">
        <h2>ุชุญููู ุญุฑูุฉ ุงูุญุดูุฏ</h2>
        <p>ุชุฃููู ุงููุนุงููุงุช ุงููุจุฑู ูุงููุทุงุฑุงุช ุนุจุฑ ููุฐุฌุฉ ุชุฏูู ุงูุจุดุฑ ูููุน ุงูุชุฏุงูุน.</p>
      </div>
    </section>
    <section id="s23" class="step" data-step="s23">
      <div class="narrative-panel">
        <h2>ุชุฎุทูุท ุงูุฅุฌูุงุก ุงูุทุจู (MEDEVAC)</h2>
        <p>ุชุญุฏูุฏ ุฃุณุฑุน ุงููุณุงุฑุงุช ุงูุฌููุฉ ูุงูุจุฑูุฉ ูููู ุงููุตุงุจูู ุฅูู ุฃูุฑุจ ููุทุฉ ุทุจูุฉ ูุคููุฉ.</p>
      </div>
    </section>
    <section id="s24" class="step" data-step="s24">
      <div class="narrative-panel">
        <h2>ูุฑุงูุจุฉ ุงูููุงู ุงูุฅูููููุฉ</h2>
        <p>ุชุฃููู ุงูุณูุงุญู ูุงููุฑุงูุฆ ุถุฏ ุงูุงุฎุชุฑุงูุงุช ุงูุจุญุฑูุฉ ุจุงุณุชุฎุฏุงู ุฃูุธูุฉ ุงูุฑุตุฏ ุงูุฑุงุฏุงุฑู ุงููุฏูุฌ.</p>
      </div>
    </section>
    <section id="s25" class="step" data-step="s25">
      <div class="narrative-panel">
        <h2>ุชุญููู ุงูุฌุฑููุฉ ุงูููุงูู</h2>
        <p>ูุถุน ุฎุฑุงุฆุท "ุณุงุฎูุฉ" (Heatmaps) ูุชูุฒูุน ุงูุฌุฑุงุฆู ูุชุนุฒูุฒ ุงูุชูุงุฌุฏ ุงูุฃููู ุงูุงุณุชุจุงูู.</p>
      </div>
    </section>
    <section id="s26" class="step" data-step="s26">
      <div class="narrative-panel">
        <h2>ุฃูู ุงููุทุงุฑุงุช ูุงููุฏุงุฑุฌ</h2>
        <p>ุฅุฏุงุฑุฉ ุงูุญุฑูุฉ ุงูุฃุฑุถูุฉ ูุชุฃููู ุงููุญูุท ุงูุฌุบุฑุงูู ูููุทุงุฑุงุช ุถุฏ ุงูุทุงุฆุฑุงุช ุงููุณูุฑุฉ (Drones).</p>
      </div>
    </section>
    <section id="s27" class="step" data-step="s27">
      <div class="narrative-panel">
        <h2>ูุธู ุฏุนู ุงููุฑุงุฑ (DSS)</h2>
        <p>ุชุญููู ุขูุงู ุงูุจูุงูุงุช ุงูููุงููุฉ ุงููุนูุฏุฉ ุฅูู ููุญุฉ ุชุญูู (Dashboard) ุจุณูุทุฉ ูููุงุฏุฉ.</p>
      </div>
    </section>
    <section id="s28" class="step" data-step="s28">
      <div class="narrative-panel">
        <h2>ูุญุงูุงุฉ ุงูุนูููุงุช (Simulation)</h2>
        <p>ุฅุฌุฑุงุก ุชุฏุฑูุจุงุช ุงูุชุฑุงุถูุฉ ุนูู ุงูุฎุฑุงุฆุท ุงูุญููููุฉ ูุฑูุน ุฌุงูุฒูุฉ ุงูููุงุช ุฏูู ุชูุงููู ููุฏุงููุฉ.</p>
      </div>
    </section>
    <section id="s29" class="step" data-step="s29">
      <div class="narrative-panel">
        <h2>ุชุญููู ุชุบุทูุฉ ุงููุงููุฑุงุช</h2>
        <p>ุชูุฒูุน ูุงููุฑุงุช ุงููุฑุงูุจุฉ ูู ุงููุฏู ูุถูุงู ุนุฏู ูุฌูุฏ "ููุงุท ุนููุงุก" ูู ุงูุดูุงุฑุน ุงูุญูููุฉ.</p>
      </div>
    </section>
    <section id="s30" class="step" data-step="s30">
      <div class="narrative-panel">
        <h2>ุงูุชุฎุทูุท ุงูุนูุฑุงูู ุงูุฃููู</h2>
        <p>ุชุตููู ุงูุฃุญูุงุก ูุงููุฏู ุจุทุฑููุฉ ุชุณูู ุงูุญุฑูุฉ ุงูุฃูููุฉ ูุชุตุนุจ ุนูููุงุช ุงูุชุฎูู.</p>
      </div>
    </section>

    <section id="s31" class="step" data-step="s31">
      <div class="narrative-panel">
        <h2>ูุฑุงูุจุฉ ุงูุณุฏูุฏ ูุงูููุงุฑุฏ ุงููุงุฆูุฉ</h2>
        <p>ุงูุฃูู ุงููุงุฆู ูู ุฃูู ููููุ GIS ูุฑุงูุจ ูุณุชููุงุช ุงูุชุฎุฒูู ูุณูุงูุฉ ุงูููุดุขุช ุงููุงุฆูุฉ.</p>
      </div>
    </section>
    <section id="s32" class="step" data-step="s32">
      <div class="narrative-panel">
        <h2>ุชุญููู ุดุจูุงุช ุงูุทุงูุฉ</h2>
        <p>ุญูุงูุฉ ูุญุทุงุช ุงูุชูููุฏ ูุฎุทูุท ุงูููู ุถุฏ ุงูุชุฎุฑูุจ ุฃู ุงูุนูุงุฑุถ ุงูุชูููุฉ ุงูููููุฉ ููุงููุงู.</p>
      </div>
    </section>
    <section id="s33" class="step" data-step="s33">
      <div class="narrative-panel">
        <h2>ุงูุงุณุชุดุนุงุฑ ุนู ุจุนุฏ ูุชุญุฏูุฏ ุงูุฃูุฏุงู</h2>
        <p>ุงุณุชุฎุฏุงู ุงูุชูููุงุช ุงูุญุฑุงุฑูุฉ ูุงูููููุฉ ุงููุฏูุฌุฉ ูุน GIS ูุฑุตุฏ ุงูุฃูุฏุงู ุจุฏูุฉ ูุชูุงููุฉ.</p>
      </div>
    </section>
    <section id="s34" class="step" data-step="s34">
      <div class="narrative-panel">
        <h2>ุฅุฏุงุฑุฉ ุงููุฎุงุฒู ุงูุฏูุงุนูุฉ</h2>
        <p>ุชูุฒูุน ูุณุชูุฏุนุงุช ุงูุฐุฎูุฑุฉ ูุงููููุฏ ุจููุงูุน ุงุณุชุฑุงุชูุฌูุฉ ุชุถูู ุณุฑุนุฉ ุงููุตูู ูุงูุฃูุงู.</p>
      </div>
    </section>
    <section id="s35" class="step" data-step="s35">
      <div class="narrative-panel">
        <h2>ุฃูู ุงูุงุชุตุงูุงุช ุงูุฑุงุฏูููุฉ</h2>
        <p>ุชุฎุทูุท ููุงูุน ุงูุฃุจุฑุงุฌ ูุถูุงู ุชุบุทูุฉ ูุงููุฉ ููููุงุทู ุงููุงุฆูุฉ ูุงูุญุฏูุฏูุฉ ุงููุนุฑุฉ.</p>
      </div>
    </section>
    <section id="s36" class="step" data-step="s36">
      <div class="narrative-panel">
        <h2>ุงูุชุนุงูู ูุน ุงูุทุงุฆุฑุงุช ุงููุณูุฑุฉ</h2>
        <p>ุงุณุชุฎุฏุงู ุฎุฑุงุฆุท ุงูุงุฑุชูุงุนุงุช ูุงููุจุงูู ูุชุญุฏูุฏ ูุณุงุฑุงุช ูููุงุทู ูุจูุท ุงูู Drones ุงูุฃูููุฉ.</p>
      </div>
    </section>
    <section id="s37" class="step" data-step="s37">
      <div class="narrative-panel">
        <h2>ุชุญููู ุงูุฃุซุฑ ุงูุจูุฆู ููุนูููุงุช</h2>
        <p>ุถูุงู ุนุฏู ุชุถุฑุฑ ุงูููุงุฑุฏ ุงูุทุจูุนูุฉ ูุงูููุงู ุงูุฌูููุฉ ุฃุซูุงุก ุงูุฃูุดุทุฉ ุงูุฏูุงุนูุฉ ุงููุจุฑู.</p>
      </div>
    </section>
    <section id="s38" class="step" data-step="s38">
      <div class="narrative-panel">
        <h2>ุงูุฎุฑุงุฆุท ุงูุชุงุฑูุฎูุฉ ูุงูุฏูุงุน</h2>
        <p>ููู ุงููุฒุงุนุงุช ุงูุณุงุจูุฉ ุนุจุฑ ุงูุฎุฑุงุฆุท ุงููุฏููุฉ ูุชุญููู ุฌุฐูุฑ ุงููุดููุงุช ุงูุฃูููุฉ ูุชุทูุฑูุง.</p>
      </div>
    </section>
    <section id="s39" class="step" data-step="s39">
      <div class="narrative-panel">
        <h2>ุชูุงูู ุงูุจูุงูุงุช ุงูุงุณุชุฎุจุงุฑุงุชูุฉ</h2>
        <p>ุฏูุฌ ุงููุนูููุงุช ูู ูุตุงุฏุฑ ูุฎุชููุฉ (ุจุดุฑูุฉุ ุชูููุฉ) ูุนุฑุถูุง ููู ุงูุฎุฑูุทุฉ ุงูููุญุฏุฉ.</p>
      </div>
    </section>
    <section id="s40" class="step" data-step="s40">
      <div class="narrative-panel">
        <h2>ุงูุฃูู ุงููููู ูุงูุญูุงุฏ ุงูุฌุบุฑุงูู</h2>
        <p>ุจูุงุก ููุงุนุฏ ุจูุงูุงุช ุฌุบุฑุงููุฉ ูุทููุฉ ูุณุชููุฉ ูุถูุงู ุณูุงุฏุฉ ุงููุนูููุงุช ูุงูุฃูู ุงููุนูููุงุชู.</p>
      </div>
    </section>

    <section id="s41" class="step" data-step="s41">
      <div class="narrative-panel">
        <h2>ุงููุนู ุงูุฅููููู ุงููุดุชุฑู</h2>
        <p>ุชุจุงุฏู ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ ุงููุญุฏูุฏุฉ ูุน ุงูุญููุงุก ูุชุนุฒูุฒ ุงูุฃูู ุงููุดุชุฑู ุถุฏ ุงููุฎุงุทุฑ ุงูููููุฉ.</p>
      </div>
    </section>
    <section id="s42" class="step" data-step="s42">
      <div class="narrative-panel">
        <h2>ุชูููุงุช LiDAR ูู ุงูุฏูุงุน</h2>
        <p>ุงุณุชุฎุฏุงู ุงูููุฒุฑ ุงูุฌูู ูุฅูุชุงุฌ ุฎุฑุงุฆุท ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูุงุฆูุฉ ุงูุฏูุฉ ููุบุงุจุงุช ูุงููุฏู ุงููุฒุฏุญูุฉ.</p>
      </div>
    </section>
    <section id="s43" class="step" data-step="s43">
      <div class="narrative-panel">
        <h2>ุชุญููู ุงููุฌูุงุช ุงูุฃูููุฉ</h2>
        <p>ุงูุชุดุงู ุงูููุงุทู ุงูุชู ุชูุชูุฑ ููุชุบุทูุฉ ุงูุฃูููุฉ ุฃู ุงูููุฌุณุชูุฉ ูุชุตุญูุญ ุชูุฒูุน ุงูููุงุช.</p>
      </div>
    </section>
    <section id="s44" class="step" data-step="s44">
      <div class="narrative-panel">
        <h2>ูุฑุงูุจุฉ ุงูุณูุงุญู ูุงููุฑุตูุฉ</h2>
        <p>ุชุญุฏูุฏ ุฃููุงุท ุชุญุฑู ุงูุณูู ุงููุดุจููุฉ ูู ุงูููุงู ุงูุฏูููุฉ ูุงูุฏุงุฎููุฉ ูุญูุงูุฉ ุงูุงูุชุตุงุฏ.</p>
      </div>
    </section>
    <section id="s45" class="step" data-step="s45">
      <div class="narrative-panel">
        <h2>ุฃูู ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ</h2>
        <p>ุชุดููุฑ ุงูุฎุฑุงุฆุท ูุญูุงูุฉ ุฎูุงุฏู GIS ุถุฏ ุงูุงุฎุชุฑุงู ุงูุณูุจุฑุงูู ุงูุฎุงุฑุฌู.</p>
      </div>
    </section>
    <section id="s46" class="step" data-step="s46">
      <div class="narrative-panel">
        <h2>ุฏูุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h2>
        <p>ุฏูุฌ AI ูุน GIS ูุงูุชุดุงู ุงูุฃูุฏุงู ูุงูุชุญุฑูุงุช ุจุดูู ุขูู ุฏูู ุชุฏุฎู ุจุดุฑู ุฏุงุฆู.</p>
      </div>
    </section>
    <section id="s47" class="step" data-step="s47">
      <div class="narrative-panel">
        <h2>ูุณุชูุจู ุงูุฏูุงุน ุงูุฌุบุฑุงูู</h2>
        <p>ุงูุงูุชูุงู ูุญู ุงูุฎุฑุงุฆุท ุงูุญูุฉ (Living Maps) ุงูุชู ุชุชุญุฏุซ ูู ุซุงููุฉ ูุฎุฏูุฉ ุงูุฃูู ุงูุฏูุงุนู.</p>
      </div>
    </section>
    <section id="s48" class="step" data-step="s48">
      <div class="narrative-panel">
        <h2>ุงูุฎุงุชูุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ</h2>
        <p>ุงูุฌุบุฑุงููุง ูู ูุณุฑุญ ุงูุนูููุงุชุ ููู ููุชูู ุฃูุถู ุฎุฑูุทุฉ ููุชูู ุฃูุถู ูุฑุตุฉ ูููุตุฑ ูุงูุฃูุงู.</p>
      </div>
    </section>
    <section id="s49" class="step fullscreen" data-step="s49">
      <div class="content-box">
        <h1 style="color: #10b981;"> ุฃุชููุช ุงูููู ุงูุฎุงูุณ ๐</h1>
        <p>ููุฏ ุฃุฏุฑูุช ุงูุขู ูุฏู ุฃูููุฉ GIS ูู ุญูุงูุฉ ุงูุฏูู ูุจูุงุก ุงูุงุณุชูุฑุงุฑ ุงูุฅููููู.</p>
        <div style="margin-top: 30px;"><a href="day6.html" class="nav-btn" style="text-decoration:none;">ุงูููู ุงูุณุงุฏุณ
            โ</a></div>
      </div>
    </section>
    <section id="s50" class="step fullscreen" data-step="s50">
      <div class="content-box">
        <h2>ูุฑุงูู ุบุฏุงู...</h2>
        <p>ุบุฏุงู ุณููุชูู ูุชุทุจููุงุช GIS ูู ุงูุนูู ุงูุจูุฏู ูุงูุฎุฏูุงุช ุงููุฌุชูุนูุฉ.</p>
      </div>
    </section>
  </main>

  <div class="story-nav">
    <button id="prev-btn" class="nav-btn" disabled>ุงูุณุงุจู</button>
    <button id="next-btn" class="nav-btn">ุงูุชุงูู</button>
    <button id="restart-btn" class="nav-btn">ุฅุนุงุฏุฉ</button>
  </div>

  <script type="module">
    import L from 'https://esm.sh/leaflet';

    const map = L.map('map', {
      zoomControl: false, scrollWheelZoom: false, dragging: false,
      attributionControl: false, doubleClickZoom: false
    }).setView([25.0, 45.0], 5);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png').addTo(map);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png', { zIndex: 1000 }).addTo(map);
    const analysisLayer = L.layerGroup().addTo(map);

    const tooltipBox = document.getElementById("map-tooltip");
    const progressBar = document.getElementById("progress-bar");
    const iconsContainer = document.getElementById("step-icons");
    const stepCounter = document.getElementById("step-counter");

    function setTooltip(text) { tooltipBox.innerHTML = text; }
    function clear() { analysisLayer.clearLayers(); }

    for (let i = 1; i <= 50; i++) {
      const icon = document.createElement('div');
      icon.className = 'step-icon'; icon.innerText = i; icon.id = `icon-s${i}`;
      icon.onclick = () => document.getElementById(`s${i}`)?.scrollIntoView({ behavior: 'smooth' });
      iconsContainer.appendChild(icon);
    }

    const actions = {
      s1: () => { clear(); map.flyTo([25.0, 45.0], 5); setTooltip("ุงูููู ุงูุฎุงูุณ: ุงูุฃูู ูุงูุฏูุงุน ุงูุฌุบุฑุงูู."); },
      s2: () => { clear(); map.flyTo([24.7, 46.7], 12); setTooltip("Situational Awareness: ุนูู ุงููุงุฆุฏ ุนูู ุงูููุฏุงู."); },
      s3: () => { clear(); map.flyTo([25, 45], 4); setTooltip("ูุธู GIS: ุงูุนูู ุงููุฏุจุฑ ููุนูููุงุช ุงูุฏูุงุนูุฉ."); },
      s4: () => { clear(); map.flyTo([28, 42], 5); setTooltip("ุงูุจูุฆุงุช ุงูุฅูููููุฉ: ุชุญุฏูุงุช ุงูุตุญุฑุงุก ูุงูุฌุจู ูุงูุจุญุฑ."); },
      s5: () => { clear(); map.flyTo([18.2, 42.5], 11); setTooltip(" Slope Analysis: ุชุญุฏูุฏ ูุณุงุฑุงุช ุงูุขููุงุช ุงูุซูููุฉ."); },
      s6: () => { clear(); L.circle([18.2, 42.5], { radius: 5000, color: 'white' }).addTo(analysisLayer); setTooltip("Viewshed: ุชุฎุทูุท ููุงุท ุงููุฑุงูุจุฉ ูุงูุณูุทุฑุฉ."); },
      s7: () => { clear(); L.circle([26.5, 56.5], { radius: 50000, color: '#ef4444' }).addTo(analysisLayer); map.flyTo([26.5, 56.5], 8); setTooltip("ูุถูู ูุฑูุฒ: ุญูุงูุฉ ุงูุดุฑูุงู ุงูุทุงูู ููุนุงูู."); },
      s8: () => { clear(); map.flyTo([12.6, 43.3], 8); setTooltip("ุจุงุจ ุงูููุฏุจ: ุชุฃููู ุงูููุฑุงุช ุงูููุงุญูุฉ ุงูุฏูููุฉ."); },
      s9: () => { clear(); map.flyTo([30.0, 32.5], 9); setTooltip("ููุงุฉ ุงูุณููุณ: ุงุณุชุฌุงุจุฉ ููุฑูุฉ ูุฃุฒูุงุช ุงูููุงุญุฉ."); },
      s10: () => { clear(); map.flyTo([24.5, 46.5], 13); setTooltip("ุฅุฏุงุฑุฉ ุงูููุงุนุฏ: ุชุฃููู ุงูููุดุขุช ุงูุนุณูุฑูุฉ."); },
      s11: () => { clear(); L.circle([24.5, 46.5], { radius: 10000, color: 'orange' }).addTo(analysisLayer); setTooltip("Buffer Zones: ุฃุญุฒูุฉ ุฃูุงู ุญูู ุงูููุงูุน ุงูุญุณุงุณุฉ."); },
      s12: () => { clear(); L.polyline([[24.5, 46.5], [25.0, 47.0]], { color: 'blue', dashArray: '5, 10' }).addTo(analysisLayer); setTooltip("Supply Chains: ููุฌุณุชูุงุช ุชุถูู ุงุณุชูุฑุงุฑูุฉ ุงูููุฉ."); },
      s13: () => { clear(); map.flyTo([24.7, 46.7], 15); setTooltip("Satellite Intel: ุงูุฑุตุฏ ุงููุถุงุฆู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ."); },
      s14: () => { clear(); L.marker([24.71, 46.68]).addTo(analysisLayer); setTooltip("Asset Tracking: GPS ูุฑุงูุจ ุชุญุฑู ุงูุฏูุฑูุงุช."); },
      s15: () => { clear(); L.polyline([[34.0, 36.0], [33.0, 36.5]], { color: '#3b82f6', weight: 8 }).addTo(analysisLayer); map.flyTo([33.5, 36.2], 9); setTooltip("Border Security: ุชุญุตูู ุงูุญุฏูุฏ ุจุงูุฐูุงุก ุงูููุงูู."); },
      s16: () => { clear(); L.circleMarker([33.4, 36.3], { color: 'red' }).addTo(analysisLayer); setTooltip("ูุดู ุงูุฃููุงุท: ุณุฏ ุงูุซุบุฑุงุช ุงูุฌุบุฑุงููุฉ ููุชูุฑูุจ."); },
      s17: () => { clear(); map.flyTo([24.7, 46.7], 10); setTooltip("Critical Infrastructure: ุญูุงูุฉ ุนุตุจ ุงูุฏููุฉ."); },
      s18: () => { clear(); L.polyline([[28, 48], [30, 48]], { color: 'black', weight: 5 }).addTo(analysisLayer); setTooltip("Pipeline Security: ูุฑุงูุจุฉ ุฎุทูุท ุงูุทุงูุฉ ุงูุทูููุฉ."); },
      s19: () => { clear(); map.flyTo([0, 0], 2); setTooltip("Cyber GIS: ุญูุงูุฉ ุงููุถุงุก ุงูุฑููู ูููุนูููุงุช."); },
      s20: () => { clear(); map.flyTo([25, 45], 5); setTooltip("Crisis Management: ุงูุชูุณูู ููู ุฎุฑูุทุฉ ููุญุฏุฉ."); },
      s21: () => { clear(); L.circle([24.7, 46.7], { radius: 40000, color: 'cyan', fillOpacity: 0.1 }).addTo(analysisLayer); setTooltip("Radar Coverage: ูุญุงูุงุฉ ูุฏู ูุดู ุงูุฑุงุฏุงุฑุงุช."); },
      s22: () => { clear(); map.flyTo([21.4, 39.8], 13); setTooltip("Crowd Management: ุชุฃููู ุงูุชุฌูุนุงุช ุงููุจุฑู."); },
      s23: () => { clear(); L.polyline([[21.4, 39.8], [21.5, 39.9]], { color: 'red', weight: 3 }).addTo(analysisLayer); setTooltip("MEDEVAC: ุฃุณุฑุน ุงููุณุงุฑุงุช ูุฅููุงุฐ ุงูุฃุฑูุงุญ."); },
      s24: () => { clear(); map.flyTo([26, 50], 9); setTooltip("Maritime Security: ุชุฃููู ุงูููุงู ุงูุฅูููููุฉ."); },
      s25: () => { clear(); for (let i = 0; i < 15; i++) L.circleMarker([24.7 + (Math.random() - 0.5) * 0.2, 46.7 + (Math.random() - 0.5) * 0.2], { radius: 5, color: 'purple' }).addTo(analysisLayer); setTooltip("Crime Heatmaps: ุงุณุชุดุฑุงู ุฃูุงูู ุงูุฎุทุฑ."); },
      s26: () => { clear(); map.flyTo([24.9, 46.7], 13); setTooltip("Airport Shield: ุญูุงูุฉ ุงููุฏุงุฑุฌ ุถุฏ ุงูุฏุฑููุฒ."); },
      s27: () => { clear(); map.flyTo([24.7, 46.7], 10); setTooltip("Decision Support: ุดุงุดุงุช ุงูููุงุฏุฉ ูุงูุณูุทุฑุฉ."); },
      s28: () => { clear(); map.flyTo([25, 45], 6); setTooltip("Simulations: ุชุฏุฑูุจุงุช ุงูุชุฑุงุถูุฉ ุจูุงูุนูุฉ ุฌุบุฑุงููุฉ."); },
      s29: () => { clear(); map.setZoom(15); setTooltip("Camera Analytics: ุชุบุทูุฉ ุจุตุฑูุฉ ุฏูู ููุงุท ุนููุงุก."); },
      s30: () => { clear(); map.setZoom(14); setTooltip("Secure Urbanism: ุงูุชุฎุทูุท ูุฏุฑุน ูููุฏููุฉ."); },
      s31: () => { clear(); map.flyTo([30, 47], 8); setTooltip("Water Security: ูุฑุงูุจุฉ ุงูุณุฏูุฏ ูุงููุตุงุฏุฑ."); },
      s32: () => { clear(); map.flyTo([24.7, 46.7], 11); setTooltip("Power Grid Shield: ุญูุงูุฉ ุดุจูุงุช ุงูููุฑุจุงุก."); },
      s33: () => { clear(); map.flyTo([34, 39], 12); setTooltip("Remote Sensing: ุฑุตุฏ ุงูุฃูุฏุงู ุจุฏูุฉ ููููุฉ."); },
      s34: () => { clear(); L.marker([24.5, 46.5]).addTo(analysisLayer); setTooltip("Strategic Logistics: ุชูุฒูุน ูุฎุงุฒู ุงูุฅูุฏุงุฏ."); },
      s35: () => { clear(); map.setZoom(7); setTooltip("Comm Security: ุชุฎุทูุท ุชุบุทูุฉ ุงูุงุชุตุงูุงุช ุงูุขููุฉ."); },
      s36: () => { clear(); map.setZoom(14); setTooltip("Drone Paths: ูุณุงุฑุงุช ุทูุฑุงู ูุณูุฑุฉ ุฏูููุฉ."); },
      s37: () => { clear(); map.flyTo([25, 45], 4); setTooltip("Eco-Defense: ููุงุฒูุฉ ุงูุนูููุงุช ูุน ุงูุจูุฆุฉ."); },
      s38: () => { clear(); map.flyTo([34, 40], 6); setTooltip("Historical Intel: ูุฑุงุกุฉ ุงููุงุถู ูููู ุงูุญุงุถุฑ."); },
      s39: () => { clear(); map.flyTo([24.7, 46.7], 10); setTooltip("Data Fusion: ุฏูุฌ ุงููุตุงุฏุฑ ููู ุงูุฎุฑูุทุฉ."); },
      s40: () => { clear(); map.flyTo([24, 46], 5); setTooltip("National Sovereignty: ุณูุงุฏุฉ ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ."); },
      s41: () => { clear(); map.flyTo([25, 45], 4); setTooltip("Regional Stability: ุงูุฃูู ุนุจุฑ ุงูุชุนุงูู ุงูุฌุบุฑุงูู."); },
      s42: () => { clear(); map.flyTo([24.7, 46.7], 14); setTooltip("LiDAR Intel: ุฎุฑุงุฆุท 3D ูููุจุงูู ูุงููุฏู."); },
      s43: () => { clear(); map.setZoom(6); setTooltip("Gap Analysis: ุณุฏ ุงููุฌูุงุช ูู ุงูุชูุฒูุน ุงูุฃููู."); },
      s44: () => { clear(); map.flyTo([26, 51], 8); setTooltip("Anti-Piracy: ุญูุงูุฉ ุงูููุงูุฆ ูุงูุงุณุชุซูุงุฑุงุช."); },
      s45: () => { clear(); map.flyTo([0, 0], 2); setTooltip("Data Encryption: ุญูุงูุฉ ุงูุฎุฑุงุฆุท ุถุฏ ุงูุงุฎุชุฑุงู."); },
      s46: () => { clear(); map.flyTo([24.7, 46.7], 11); setTooltip("AI Surveillance: ุงูุฑุตุฏ ุงูุขูู ููุชุญุฑูุงุช ุจููุฉ AI."); },
      s47: () => { clear(); map.flyTo([25, 45], 5); setTooltip("Living Maps: ุงููุณุชูุจู ุญูุซ ุชุชููุณ ุงูุฎุงุฑุทุฉ."); },
      s48: () => { clear(); map.flyTo([34, 39], 6); setTooltip("Ethical Defense: ุงูุฌุบุฑุงููุง ูุฃูุงูุฉ ููุณุคูููุฉ."); },
      s49: () => { clear(); map.flyTo([24.7136, 46.6753], 6); setTooltip("ุจุฑุงูู! ููุฏ ุฃุฏุฑูุช ููุฉ ุงูุฌุบุฑุงููุง ูู ุญูุงูุฉ ุงููุทู."); },
      s50: () => { clear(); map.flyTo([34.8021, 38.9968], 7); setTooltip("ูุฑุงูู ุบุฏุงู ูู ุชุทุจููุงุช ุงูุนูู ุงูุจูุฏู ูุงูุฎุฏูู."); }
    };

    const steps = document.querySelectorAll(".step");
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          const num = parseInt(id.replace('s', ''));
          progressBar.style.width = (num / 50 * 100) + "%";
          if (actions[id]) actions[id]();
          steps.forEach(s => s.classList.remove('active'));
          entry.target.classList.add('active');
          document.querySelectorAll('.step-icon').forEach(icon => {
            const iconNum = parseInt(icon.id.replace('icon-s', ''));
            icon.classList.toggle('active', iconNum === num);
            icon.classList.toggle('done', iconNum < num);
          });
          stepCounter.innerText = `${num} / 50`;

const activeIcon = document.getElementById(`icon-s${num}`);
if(activeIcon){
    activeIcon.scrollIntoView({
        behavior: "smooth",
        inline: "center",
        block: "nearest"
    });
}

          document.getElementById('prev-btn').disabled = (num === 1);
          document.getElementById('next-btn').disabled = (num === 50);
        }
      });
    }, { threshold: 0.6 });

    steps.forEach(s => observer.observe(s));

    document.getElementById('next-btn').onclick = () => [...steps].find(s => s.classList.contains('active'))?.nextElementSibling?.scrollIntoView({ behavior: 'smooth' });
    document.getElementById('prev-btn').onclick = () => [...steps].find(s => s.classList.contains('active'))?.previousElementSibling?.scrollIntoView({ behavior: 'smooth' });
    document.getElementById('restart-btn').onclick = () => steps[0].scrollIntoView({ behavior: 'smooth' });
  </script>
</body>

</html>