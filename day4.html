<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูููู ุงูุฑุงุจุน: ูุบุฉ ุงูุฎุฑุงุฆุท - ุฏูุฑุฉ GIS ุงููุณุชูู 0</title>

      <link rel="stylesheet" href="css/leaflet.css" />

   <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
    <link href="css/font.css"
        rel="stylesheet">

      <style>
        :root {
            --glass-bg: rgba(15, 23, 42, 0.08);
            --glass-border: rgba(255, 255, 255, 0.2);
            --primary-accent: #3b82f6;
            --text-main: #1e293b;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: #ffffff;
            color: var(--text-main);
            margin: 0;
            overflow-x: hidden;
        }

        #map-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        #scrolly {
            position: relative;
            z-index: 10;
            pointer-events: none;
        }

        .step {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0 5%;
            margin-bottom: 50vh;
        }

        .narrative-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            width: 450px;
            max-width: 85%;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            pointer-events: auto;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .step.active .narrative-panel {
            transform: scale(1.02);
            border-color: var(--primary-accent);
        }

        .step.fullscreen {
            justify-content: center;
            padding: 0;
        }

        .content-box {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 32px;
            padding: 60px;
            text-align: center;
            max-width: 800px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15);
            pointer-events: auto;
        }

        h1,
        h2,
        h3 {
            color: #0f172a;
            margin-top: 0;
        }

        p {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #334155;
        }

        #progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }

        #progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.3s;
        }

        #map-tooltip {
            position: fixed;
            z-index: 50;
            top: 30px;
            right: 30px;
            background: #b8c4eb;
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            font-size: 0.95rem;
            max-width: 300px;
            font-weight: 700;
            color: #1e293b;
            border-right: 5px solid #3b82f6;
        }

      #steps-bar{
    position: fixed;
    top: 12px;
    left: 30%;
    transform: translateX(-50%);
    z-index: 999999;
    width: min(950px, 95%);
    padding: 12px 14px;
    border-radius: 18px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(14px);
    border: 1px solid rgba(255,255,255,0.25);
    box-shadow: 0 10px 35px rgba(0,0,0,0.25);
}

#steps-title{
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    color: #0f172a;
    font-weight: 800;
    font-size: 14px;
}

#step-counter{
    font-weight: 900;
    font-size: 13px;
    opacity: 0.9;
}

#step-icons{
    display: flex;
    gap: 8px;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 6px 4px;
    scroll-behavior: smooth;
    white-space: nowrap;
}

#step-icons::-webkit-scrollbar{
    height: 6px;
}

#step-icons::-webkit-scrollbar-thumb{
    background: rgba(0,0,0,0.25);
    border-radius: 10px;
}

.step-icon{
    min-width: 34px;
    height: 34px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    font-size: 13px;
    font-weight: 900;
    color: rgba(15,23,42,0.75);
    background: rgba(255,255,255,0.25);
    border: 1px solid rgba(255,255,255,0.35);
    transition: 0.25s ease;
}

.step-icon:hover{
    transform: translateY(-2px);
    background: rgba(255,255,255,0.45);
    color: #0f172a;
}

/* DONE */
.step-icon.done{
    background: rgba(16, 185, 129, 0.25);
    border: 1px solid rgba(16, 185, 129, 0.7);
    color: #065f46;
}

/* ACTIVE */
.step-icon.active{
    background: rgba(59, 130, 246, 0.35);
    border: 1px solid rgba(59, 130, 246, 0.9);
    color: #0f172a;
    transform: scale(1.1);
    box-shadow: 0 0 18px rgba(59, 130, 246, 0.6);
}


        .step-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(4px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: #64748b;
            cursor: pointer;
            transition: 0.3s;
        }

        .step-icon:hover,
        .step-icon.active {
            background: #3b82f6;
            color: white;
            transform: scale(1.2);
        }

        .step-icon.done {
            background: #10b981;
            color: white;
        }

        .story-nav {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: #3280ff;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-btn:hover:not(:disabled) {
            background: #3b82f6;
            transform: translateY(-3px);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

       @media (max-width: 900px) {
    #steps-bar{
        top: 8px;
        width: 96%;
    }

    .step-icon{
        min-width: 30px;
        height: 30px;
        font-size: 12px;
        border-radius: 10px;
    }
}

    </style>
</head>

<body>
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>
    <div id="map-tooltip">ูุฑุญุจุงู ุจู ูู ุงูููู ุงูุฑุงุจุน ๐</div>
    <div id="map-container">
        <div id="map"></div>
    </div>
    <div id="map-container">
    <div id="map"></div>
</div>

<div id="steps-bar">
    <div id="steps-title">
        <span id="step-label">ุงูุชูุฏู</span>
        <span id="step-counter">1 / 50</span>
    </div>
    <div id="step-icons"></div>
</div>


    <main id="scrolly">
        <!-- Slides 1 - 50 -->
        <section id="s1" class="step fullscreen" data-step="s1">
            <div class="content-box">
                <h1>ุงูููู ุงูุฑุงุจุน: ูุบุฉ ุงูุฎุฑุงุฆุท ๐จ</h1>
                <p>ุงูุฎุฑูุทุฉ ููุณุช ูุฌุฑุฏ ุตูุฑุฉุ ุจู ูู ูุณููุฉ ุชูุงุตู ุนูููุฉ ุชูููุน ูุชูุญูู ูุชูุดู ุงูุญูููุฉ ุงูููุงููุฉ.</p>
                <div style="margin-top: 40px; color: #3b82f6; font-weight: 800;">ุงุจุฏุฃ ุจุงูุชูุฑูุฑ ูุชุชุนูู ูู ูุฑุงุกุฉ
                    ุงูุฎุฑุงุฆุท...</div>
            </div>
        </section>

        <section id="s2" class="step" data-step="s2">
            <div class="narrative-panel">
                <h2>ูุง ูู ุงููุฑุงุกุฉ ุงูุฎุฑูุทูุฉุ</h2>
                <p>ูู ุงููุฏุฑุฉ ุนูู ููู ุงูุฑููุฒ ูุงูุฃููุงู ูุงูููุงููุณ ูุงูุงุชุฌุงูุงุช ูุงุณุชุฎูุงุต ุงููุนูููุฉ ุจุณุฑุนุฉ ูุฏูุฉ.</p>
            </div>
        </section>
        <section id="s3" class="step" data-step="s3">
            <div class="narrative-panel">
                <h2>ุงููุฏู ูู ุงูุฎุฑูุทุฉ</h2>
                <p>ูุจู ุฃู ุชุตูููุ ุงุณุฃู ููุณู: ูุง ูู ุงููุฑุงุฑ ุงูุฐู ุณุชุฏุนูู ูุฐู ุงูุฎุฑูุทุฉุ (ุชุฎุทูุทุ ุทูุงุฑุฆุ ุชูููุฉุ).</p>
            </div>
        </section>
        <section id="s4" class="step" data-step="s4">
            <div class="narrative-panel">
                <h2>ููููุงุช ุงูุฎุฑูุทุฉ ุงูุงุญุชุฑุงููุฉ</h2>
                <p>ุงูุนููุงูุ ุงูููุชุงุญุ ุงููููุงุณุ ุณูู ุงูุดูุงูุ ููุตุฏุฑ ุงูุจูุงูุงุช ุถุฑูุฑูุฉ ูุถูุงู ูุตุฏุงููุฉ ุงูุฎุฑูุทุฉ.</p>
            </div>
        </section>
        <section id="s5" class="step" data-step="s5">
            <div class="narrative-panel">
                <h2>ุงูุนููุงู ุงูุฐูู</h2>
                <p>ูุฌุจ ุฃู ูุฌูุจ ุงูุนููุงู ุนูู: ูุงุฐุงุ ุฃููุ ููุชูุ (ุชูุฒุน ุงููุฑุงูุฒ ุงูุตุญูุฉ ูู ุญูุต - 2024).</p>
            </div>
        </section>
        <section id="s6" class="step" data-step="s6">
            <div class="narrative-panel">
                <h2>ุงูููุชุงุญ (Legend)</h2>
                <p>ูู "ูุงููุณ" ุงูุฎุฑูุทุฉ ุงูุฐู ููู ุฑููุฒ ุงูุฃููุงู ูุงูุฃุดูุงู ูุชุตุจุญ ุงูุจูุงูุงุช ูููููุฉ ููุฌููุน.</p>
            </div>
        </section>
        <section id="s7" class="step" data-step="s7">
            <div class="narrative-panel">
                <h2>ุงููููุงุณ (Scale)</h2>
                <p>ุงูุนูุงูุฉ ุงูุฑูุงุถูุฉ ุจูู ูุง ูุฑุงู ุนูู ุงููุฑู ูุงููุณุงูุฉ ุงูุญููููุฉ ุนูู ูููุจ ุงูุฃุฑุถ.</p>
            </div>
        </section>
        <section id="s8" class="step" data-step="s8">
            <div class="narrative-panel">
                <h2>ุงููููุงุณ ุงููุจูุฑ ูุงูุตุบูุฑ</h2>
                <p>ุงููููุงุณ ุงููุจูุฑ ูุนูู ุชูุงุตูู ุฃูุซุฑ (ุญู)ุ ูุงูุตุบูุฑ ูุนูู ูุณุงุญุฉ ุฃูุจุฑ (ุฏููุฉ).</p>
            </div>
        </section>
        <section id="s9" class="step" data-step="s9">
            <div class="narrative-panel">
                <h2>ุงูุดูุงู ุงูุญูููู ูุงููุบูุงุทูุณู</h2>
                <p>ูู ุงูุนูููุงุช ุงูุฏูููุฉุ ูุฌุจ ุงูุชูููุฒ ุจูู ุงูุดูุงู ุงูุฌุบุฑุงูู ูุงุชุฌุงู ุฅุจุฑุฉ ุงูุจูุตูุฉ ุงููุบูุงุทูุณูุฉ.</p>
            </div>
        </section>
        <section id="s10" class="step" data-step="s10">
            <div class="narrative-panel">
                <h2>ุงููุตุฏุฑ ูุงูุจูุงูุงุช ุงููุตููุฉ</h2>
                <p>ุชูุซูู ูุตุฏุฑ ุงูุจูุงูุงุช ูุนุทู ุงูุฎุฑูุทุฉ ุซููุงู ูุงููููุงู ูุนูููุงู ููุญูู ุตุงูุน ุงููุฑุงุฑ.</p>
            </div>
        </section>

        <section id="s11" class="step" data-step="s11">
            <div class="narrative-panel">
                <h2>ุณูููููุฌูุฉ ุงูุฃููุงู</h2>
                <p>ุงูุฃููุงู ุชุญูู ุฏูุงูุงุช: ุงูุฃุญูุฑ ููุฎุทุฑุ ุงูุฃุฎุถุฑ ููุจูุฆุฉุ ุงูุฃุฒุฑู ููููุงูุ ูุงูุฑูุงุฏู ููุจูุงุก.</p>
            </div>
        </section>
        <section id="s12" class="step" data-step="s12">
            <div class="narrative-panel">
                <h2>ุงูุชุจุงูู ูุงููุถูุญ</h2>
                <p>ุจุฏูู ุชุจุงูู ููู ุจูู ุงููุนุงูู ูุงูุฎูููุฉุ ุณุชุถูุน ุงููุนูููุฉ ููู ูุชููู ุงููุงุฑุฆ ูู ููู ุงูุฃููุงุท.</p>
            </div>
        </section>
        <section id="s13" class="step" data-step="s13">
            <div class="narrative-panel">
                <h2>ุงูุชุณูุณู ุงูุจุตุฑู</h2>
                <p>ุชุตููู ุงูุฎุฑูุทุฉ ูุฌุจ ุฃู ูููุฏ "ุนูู" ุงููุงุฑุฆ ุฅูู ุงููุนูููุฉ ุงูุฃูู ุฃููุงู ุซู ุงูุชูุงุตูู.</p>
            </div>
        </section>
        <section id="s14" class="step" data-step="s14">
            <div class="narrative-panel">
                <h2>ุงูุชูุงุฒู ุงูููู</h2>
                <p>ุชูุฒูุน ุนูุงุตุฑ ุงูุฎุฑูุทุฉ (ุงูุนููุงูุ ุงูููุชุงุญ...) ุจุดูู ูุชูุงุฒู ูุญูู ุงูุฑุงุญุฉ ุงูุจุตุฑูุฉ ูุงููุถูุญ.</p>
            </div>
        </section>
        <section id="s15" class="step" data-step="s15">
            <div class="narrative-panel">
                <h2>ุงูุชุฑููุฒ ุงูููุทู</h2>
                <p>ุงุณุชุฎุฏุงู ุงูุฑููุฒ ูุชูุซูู ุงูููุงูุน (ูุณุชุดููุงุชุ ุขุจุงุฑุ ููุงุท ุชูุชูุด) ุจุดูู ุจุฏููู.</p>
            </div>
        </section>
        <section id="s16" class="step" data-step="s16">
            <div class="narrative-panel">
                <h2>ุงูุชุฑููุฒ ุงูุฎุทู</h2>
                <p>ุชูุซูู ุงููุณุงุฑุงุช (ุทุฑูุ ุญุฏูุฏุ ุดุจูุงุช ููุงู) ุจุณูุงูุงุช ูุฃููุงู ุชุนุจุฑ ุนู ุงูุฃูููุฉ.</p>
            </div>
        </section>
        <section id="s17" class="step" data-step="s17">
            <div class="narrative-panel">
                <h2>ุงูุชุฑููุฒ ุงููุณุงุญู</h2>
                <p>ุชุนุจุฆุฉ ุงูููุงุทู (ุฃุญูุงุกุ ุบุงุจุงุชุ ุจุญูุฑุงุช) ุจุฃููุงู ุฃู ุฃููุงุท (Hatching) ูุชูููุฒ ุงุณุชุฎุฏุงูุงุช ุงูุฃุฑุงุถู.</p>
            </div>
        </section>
        <section id="s18" class="step" data-step="s18">
            <div class="narrative-panel">
                <h2>ููุงุนุฏ ุงูุชุณููุฉ (Labels)</h2>
                <p>ุงููุตูุต ูุฌุจ ุฃู ุชููู ูุงุถุญุฉุ ุณููุฉ ุงููุฑุงุกุฉุ ููุง ุชุบุทู ุฃุจุฏุงู ุงููุนุงูู ุงูุฌุบุฑุงููุฉ ุงููููุฉ.</p>
            </div>
        </section>
        <section id="s19" class="step" data-step="s19">
            <div class="narrative-panel">
                <h2>ูุงูุฉ ุงููุต (Halo)</h2>
                <p>ูุถุน ุฅุทุงุฑ ุฎููู ุญูู ุงููุต ูุถูุงู ูุถูุญู ููู ุฃู ุฎูููุฉ ููููุฉ ุฃู ุตูุฑ ุฃููุงุฑ ุตูุงุนูุฉ.</p>
            </div>
        </section>
        <section id="s20" class="step" data-step="s20">
            <div class="narrative-panel">
                <h2>ุงูุชุนููู (Generalization)</h2>
                <p>ุชุจุณูุท ุงููุนุงูู ุนูุฏ ุงูุชุตุบูุฑ ูููุน ุงุฒุฏุญุงู ุงูุฎุฑูุทุฉ (ุญุฐู ุงูุทุฑู ุงูุตุบูุฑุฉ ูุซูุงู).</p>
            </div>
        </section>

        <section id="s21" class="step" data-step="s21">
            <div class="narrative-panel">
                <h2>ุงูุฎุฑุงุฆุท ุงูููุถูุนูุฉ</h2>
                <p>ุฎุฑุงุฆุท ุชุฑูุฒ ุนูู ููุถูุน ูุญุฏุฏ ูุซู ุชูุฒูุน ุงูุฃูุฑุงุถ ุฃู ุงููุซุงูุฉ ุงูุณูุงููุฉ ุจุฏูุงู ูู ุงููููุน ููุท.</p>
            </div>
        </section>
        <section id="s22" class="step" data-step="s22">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงูููุฑุจูุซ (Choropleth)</h2>
                <p>ุงุณุชุฎุฏุงู ุชุฏุฑุฌ ุงูุฃููุงู ูุชูุซูู ูุซุงูุฉ ุงูุจูุงูุงุช ุฏุงุฎู ุญุฏูุฏ ุฅุฏุงุฑูุฉ (ุฃูุซุฑ ุฃููุงุน ุงูุฎุฑุงุฆุท ุงูุชุดุงุฑุงู).</p>
            </div>
        </section>
        <section id="s23" class="step" data-step="s23">
            <div class="narrative-panel">
                <h2>ุงูุฑููุฒ ุงููุณุจูุฉ</h2>
                <p>ุชูุจูุฑ ุญุฌู ุงูุฑูุฒ ุจูุงุกู ุนูู ุงููููุฉ (ุฏุงุฆุฑุฉ ูุจูุฑุฉ ููุฏููุฉ ููููููุฉ ูุฏุงุฆุฑุฉ ุตุบูุฑุฉ ูุจูุฏุฉ).</p>
            </div>
        </section>
        <section id="s24" class="step" data-step="s24">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงููุซุงูุฉ ุงูููุทูุฉ</h2>
                <p>ุชูุซูู ุงูุจูุงูุงุช ุจููุงุท ูุจุนุซุฑุฉุ ูู ููุทุฉ ุชูุซู ูููุฉ ุซุงุจุชุฉ (ูุซูุงู ููุทุฉ ููู 100 ูุฒุงุฑุน).</p>
            </div>
        </section>
        <section id="s25" class="step" data-step="s25">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงูุญุฑุงุฑุฉ (Heatmap)</h2>
                <p>ุชูุซูู ุงูุชุฑูุฒุงุช ูุงูุงุฒุฏุญุงูุงุช ุจุงูุฃููุงู ุงูุฏุงูุฆุฉ ูุงูุจุงุฑุฏุฉ (ุฑุงุฆุนุฉ ูุชุญููู ุงูุฌุฑุงุฆู ุฃู ุงูุญูุงุฏุซ).</p>
            </div>
        </section>
        <section id="s26" class="step" data-step="s26">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงูุชุฏูู (Flow)</h2>
                <p>ุชูุซูู ุญุฑูุฉ ุงูุจุถุงุฆุน ุฃู ูุฌุฑุฉ ุงูุณูุงู ุฃู ูุณุงุฑุงุช ุงูุฑูุงุญ ุจุฎุทูุท ุฐุงุช ุงุชุฌุงู ูุณูุงูุงุช ูุชุบูุฑุฉ.</p>
            </div>
        </section>
        <section id="s27" class="step" data-step="s27">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงูุชุณุงูู (Isarithmic)</h2>
                <p>ุชูุตูู ุงูููุงุท ุงููุชุณุงููุฉ ูู ุงููููุฉุ ูุซู ุฎุฑุงุฆุท ุงูุทูุณ (ุงูุญุฑุงุฑุฉ) ุฃู ุงูุงุฑุชูุงุนุงุช (ุงูููุชูุฑ).</p>
            </div>
        </section>
        <section id="s28" class="step" data-step="s28">
            <div class="narrative-panel">
                <h2>ุทุฑู ุงูุชุตููู (Quantile)</h2>
                <p>ุชูุณูู ุงูุจูุงูุงุช ุฅูู ูุฌููุนุงุช ูุชุณุงููุฉ ูู ุงูุนุฏุฏ (ูููุฏุฉ ูููุงุฑูุฉ ุงูููุงุทู ุจุจุนุถูุง).</p>
            </div>
        </section>
        <section id="s29" class="step" data-step="s29">
            <div class="narrative-panel">
                <h2>ุทุฑู ุงูุชุตููู (Natural Breaks)</h2>
                <p>ุทุฑููุฉ ุฐููุฉ ุชูุชุดู "ุงูููุฒุงุช" ูู ุงูุจูุงูุงุช ูุชูุณูููุง ุจุดูู ููุทูู ูุทุจูุนู.</p>
            </div>
        </section>
        <section id="s30" class="step" data-step="s30">
            <div class="narrative-panel">
                <h2>ุฃุฎุทุงุก ุงูุชุธููู</h2>
                <p>ุชุฌูุจ ุงุณุชุฎุฏุงู ุชุฏุฑุฌุงุช ุฃููุงู ูุซูุฑุฉ ุฌุฏุงู ุชุฑุจู ุงูุนูู ูุชุฌุนู ุงูุฎุฑูุทุฉ ุตุนุจุฉ ุงูุชูุณูุฑ.</p>
            </div>
        </section>

        <section id="s31" class="step" data-step="s31">
            <div class="narrative-panel">
                <h2>ูุธู ุงูุฅุญุฏุงุซูุงุช (Projections)</h2>
                <p>ุชุญููู ูููุจูุง ุงููุฑูู ุฅูู ุฎุฑูุทุฉ ูุณุชููุฉุ ูุงุฎุชูุงุฑูุธุงู ุงูุฅุณูุงุท ุงูุตุญูุญ ูููุน ุชุดูู ุงููุณุงุญุงุช.</p>
            </div>
        </section>
        <section id="s32" class="step" data-step="s32">
            <div class="narrative-panel">
                <h2>ุฅุณูุงุท ููุฑูุงุชูุฑ</h2>
                <p>ุงูุฃุดูุฑ ูู ุงูููุงุญุฉ ุงูุจุญุฑูุฉุ ูููู ูุดูู ุฃุญุฌุงู ุงููุงุฑุงุช ุงููุฑูุจุฉ ูู ุงููุทุจูู ุจุดูู ูุจูุฑ.</p>
            </div>
        </section>
        <section id="s33" class="step" data-step="s33">
            <div class="narrative-panel">
                <h2>ูุธุงู UTM</h2>
                <p>ุงููุธุงู ุงูุนุงููู ุงูุนุณูุฑู ูุงูุฃูุซุฑ ุฏูุฉ ููุนูู ุงูููุฏุงูู ูุงูููุงุณุงุช ุงูููุฏุณูุฉ ุงููุญููุฉ.</p>
            </div>
        </section>
        <section id="s34" class="step" data-step="s34">
            <div class="narrative-panel">
                <h2>ููุงุณ ุงููุณุงูุงุช</h2>
                <p>ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงููุณุทุฑุฉ ุงูุฑูููุฉ ูุญุณุงุจ ุฃุทูุงู ุงูุทุฑู ุฃู ูุฏู ูุตูู ุงูุตูุงุฑูุฎ ุฃู ุงูุทุงุฆุฑุงุช.</p>
            </div>
        </section>
        <section id="s35" class="step" data-step="s35">
            <div class="narrative-panel">
                <h2>ููุงุณ ุงููุณุงุญุงุช</h2>
                <p>ุถุฑูุฑู ูุชุฎููู ุญุฌู ุงูุฃุถุฑุงุฑ ุฃู ุงุญุชุณุงุจ ูุณุงุญุงุช ุงูุบุงุจุงุช ุฃู ุงูุฃุฑุงุถู ุงููุญุฑููุฉ.</p>
            </div>
        </section>
        <section id="s36" class="step" data-step="s36">
            <div class="narrative-panel">
                <h2>ุฎูููุงุช ุงูุฎุฑุงุฆุท (Basemaps)</h2>
                <p>ุงุฎุชูุงุฑ ุงูุฎูููุฉ ุงูููุงุณุจุฉ (ููุฑ ุตูุงุนู vs ุฎุฑูุทุฉ ุทุฑู) ูุนุชูุฏ ุนูู ููุน ุงููุนูููุฉ ุงููุทููุจุฉ.</p>
            </div>
        </section>
        <section id="s37" class="step" data-step="s37">
            <div class="narrative-panel">
                <h2>ุฏูุฌ ุงูุจูุงูุงุช (Overlay)</h2>
                <p>ูุถุน ุทุจูุฉ ููู ุฃุฎุฑู ูุงูุชุดุงู ุงูุนูุงูุงุช ุงูููุงููุฉ (ุชุฏุงุฎู ููุงุทู ุงูููุถุงู ูุน ุงูุณูู).</p>
            </div>
        </section>
        <section id="s38" class="step" data-step="s38">
            <div class="narrative-panel">
                <h2>ุงูููุงูุฐ ุงูููุจุซูุฉ (Pop-ups)</h2>
                <p>ูู ุงูุฎุฑุงุฆุท ุงูุฑูููุฉุ ุงูุถุบุท ุนูู ุงูุนูุตุฑ ูุนุทูู ุชูุงุตููู ูุงููุฉ: ุงูุงุณูุ ุงูููุนุ ูุงูุชุงุฑูุฎ.</p>
            </div>
        </section>
        <section id="s39" class="step" data-step="s39">
            <div class="narrative-panel">
                <h2>ุงูุชูุงุนู ุงูุฎุฑูุทู</h2>
                <p>ุงููุฏุฑุฉ ุนูู ุชูุจูุฑ ูุชุตุบูุฑ (Zoom) ุงูุฎุฑูุทุฉ ูุฑุคูุฉ ูุณุชููุงุช ูุฎุชููุฉ ูู ุงูุจูุงูุงุช.</p>
            </div>
        </section>
        <section id="s40" class="step" data-step="s40">
            <div class="narrative-panel">
                <h2>ุฃุฏูุงุช ุงูุจุญุซ ุงูููุงูู</h2>
                <p>ุงูุจุญุซ ุนู ูููุน ูุญุฏุฏ ุนุจุฑ ุงูุฅุญุฏุงุซูุงุช ุฃู ุงูุงุณู ุฏุงุฎู ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ.</p>
            </div>
        </section>

        <section id="s41" class="step" data-step="s41">
            <div class="narrative-panel">
                <h2>ุงูุชุตููู ููุฃุฌูุฒุฉ ุงููุญูููุฉ</h2>
                <p>ุงูุฎุฑูุทุฉ ูุฌุจ ุฃู ุชููู ูุงุถุญุฉ ููุงุจูุฉ ููุงุณุชุฎุฏุงู ุญุชู ุนูู ุดุงุดุฉ ุงูููุจุงูู ุงูุตุบูุฑุฉ ูู ุงูููุฏุงู.</p>
            </div>
        </section>
        <section id="s42" class="step" data-step="s42">
            <div class="narrative-panel">
                <h2>ุงูุฎุฑุงุฆุท ุซูุงุฆูุฉ ุงููุชุบูุฑ</h2>
                <p>ุฅุธูุงุฑ ุธุงูุฑุชูู ูุนุงู (ูุซูุงู ุงูููุฑ ูุงูุชุนููู) ูู ุฎุฑูุทุฉ ูุงุญุฏุฉ ุจุงุณุชุฎุฏุงู ุชุฏุฑุฌ ูููู ูุฑูุจ.</p>
            </div>
        </section>
        <section id="s43" class="step" data-step="s43">
            <div class="narrative-panel">
                <h2>ุงูููุช ูู ุงูุฎุฑูุทุฉ</h2>
                <p>ุชูุซูู ุงูุชุบูุฑ ุนุจุฑ ุงูุฒูู ุจุงุณุชุฎุฏุงู ุดุฑูุท ุงูุชูุฑูุฑ ุงูุฒููู (Time Slider) ููุฑุงูุจุฉ ุชูุฏุฏ ุงููุฏู.</p>
            </div>
        </section>
        <section id="s44" class="step" data-step="s44">
            <div class="narrative-panel">
                <h2>ุฃุฏูุงุช ุนุฑุถ 3D</h2>
                <p>ููู ูุบุฉ ุงูุงุฑุชูุงุนุงุช ูุงููุจุงูู ูุชุบุทูุฉ ูุงููุฑุงุช ุงููุฑุงูุจุฉ ุจุดูู ูุงูุนู.</p>
            </div>
        </section>
        <section id="s45" class="step" data-step="s45">
            <div class="narrative-panel">
                <h2>ููุญุงุช ุงููุนูููุงุช (Dashboards)</h2>
                <p>ุฏูุฌ ุงูุฎุฑุงุฆุท ูุน ุฑุณูู ุจูุงููุฉ ุญูุฉ ูุชุนุทู ุตูุฑุฉ ูุญุธูุฉ ูุดุงููุฉ ูุตูุงุน ุงููุฑุงุฑ.</p>
            </div>
        </section>
        <section id="s46" class="step" data-step="s46">
            <div class="narrative-panel">
                <h2>ุชุญููู ุงูุธูุงู (Viewshed)</h2>
                <p>ุชุญุฏูุฏ ูุง ูู ุงูููุงุทู ุงูุชู ูููู ุฑุคูุชูุง ูู ููุทุฉ ูุนููุฉ (ููู ูููุงูุน ุฃุจุฑุงุฌ ุงููุฑุงูุจุฉ).</p>
            </div>
        </section>
        <section id="s47" class="step" data-step="s47">
            <div class="narrative-panel">
                <h2>ุฎุฑุงุฆุท ุงููุตุฉ (StoryMaps)</h2>
                <p>ุชุญููู ุงูุชุญููู ุงูุฌุบุฑุงูู ุงููุนูุฏ ุฅูู ุฑุญูุฉ ุจุตุฑูุฉ ุดููุฉ ูููููุง ุญุชู ุบูุฑ ุงููุฎุชุตูู.</p>
            </div>
        </section>
        <section id="s48" class="step" data-step="s48">
            <div class="narrative-panel">
                <h2>ุงูุฃุฎูุงููุงุช ูู ุงููุงุฑุชูุบุฑุงููุง</h2>
                <p>ุงูุฎุฑูุทุฉ ุฃูุงูุฉุ ุงูุชูุงุนุจ ุจุงูุจูุงูุงุช ุฃู ุงูุฃููุงู ูุชุถููู ุงููุงุณ ูู ุฎุทุฃ ูููู ูุฃุฎูุงูู ูุงุฏุญ.</p>
            </div>
        </section>
        <section id="s49" class="step fullscreen" data-step="s49">
            <div class="content-box">
                <h1 style="color: #10b981;"> ุฃุชููุช ุงูููู ุงูุฑุงุจุน ๐</h1>
                <p>ููุฏ ุฃุชููุช ูุบุฉ ุงูุฎุฑุงุฆุท ูุฃุตุจุญุช ูุงุฏุฑุงู ุนูู ุชุตููู ุฎุฑุงุฆุท ุงุญุชุฑุงููุฉ ููุคุซุฑุฉ.</p>
                <div style="margin-top: 30px;"><a href="day5.html" class="nav-btn" style="text-decoration:none;">ุงูููู
                        ุงูุฎุงูุณ โ</a></div>
            </div>
        </section>
        <section id="s50" class="step fullscreen" data-step="s50">
            <div class="content-box">
                <h2>ูุฑุงูู ุบุฏุงู...</h2>
                <p>ุบุฏุงู ุณููุชูู ููุฌุงูุจ ุงูุนููู ุงููุชูุฏู: ุชุทุจููุงุช GIS ูู ุงูุฃูู ูุงูุฏูุงุน.</p>
            </div>
        </section>
    </main>

    <div class="story-nav">
        <button id="prev-btn" class="nav-btn" disabled>ุงูุณุงุจู</button>
        <button id="next-btn" class="nav-btn">ุงูุชุงูู</button>
        <button id="restart-btn" class="nav-btn">ุฅุนุงุฏุฉ</button>
    </div>

    <script type="module">
        import L from 'https://esm.sh/leaflet';

        const map = L.map('map', {
            zoomControl: false, scrollWheelZoom: false, dragging: false,
            attributionControl: false, doubleClickZoom: false
        }).setView([34.8021, 38.9968], 7);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png').addTo(map);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png', { zIndex: 1000 }).addTo(map);
        const analysisLayer = L.layerGroup().addTo(map);

        const tooltipBox = document.getElementById("map-tooltip");
        const progressBar = document.getElementById("progress-bar");
        const iconsContainer = document.getElementById("step-icons");
        const stepCounter = document.getElementById("step-counter");

        function setTooltip(text) { tooltipBox.innerHTML = text; }
        function clear() { analysisLayer.clearLayers(); }

        for (let i = 1; i <= 50; i++) {
            const icon = document.createElement('div');
            icon.className = 'step-icon'; icon.innerText = i; icon.id = `icon-s${i}`;
            icon.onclick = () => document.getElementById(`s${i}`)?.scrollIntoView({ behavior: 'smooth' });
            iconsContainer.appendChild(icon);
        }

        const actions = {
            s1: () => { clear(); map.flyTo([34.8021, 38.9968], 7); setTooltip("ุงูููู ุงูุฑุงุจุน: ูุบุฉ ุงูุฎุฑุงุฆุท ููู ุงูุชุตููู."); },
            s2: () => { clear(); map.flyTo([51.5074, -0.1278], 10); setTooltip("ููู ูุบุฉ ุงูุฎุฑุงุฆุท: ุงุณุชุฎูุงุต ุงูุฃููุงุท ูู ุงูุถุฌูุฌ."); },
            s3: () => { clear(); map.flyTo([48.8566, 2.3522], 11); setTooltip("ุฏุนู ุงููุฑุงุฑ: ุงูุฎุฑูุทุฉ ูุฃุฏุงุฉ ุฅููุงุน ูููุฉ."); },
            s4: () => { clear(); map.flyTo([0, 0], 2); setTooltip("ุงูููููุงุช: ุนููุงูุ ููุชุงุญุ ูููุงุณุ ูุณูู ุดูุงู."); },
            s5: () => { clear(); map.flyTo([33.51, 36.27], 10); setTooltip("ุงูุนููุงู ุงูุฐูู: ูุฎุจุฑ ุงููุตุฉ ุจุงุฎุชุตุงุฑ."); },
            s6: () => { clear(); map.setZoom(12); setTooltip("Legend: ุงููุชุฑุฌู ุงููุงูููู ูุฑููุฒู ูุฃููุงูู."); },
            s7: () => { clear(); map.setZoom(15); setTooltip("ุงููููุงุณ: ูุบุฉ ุงููุณุงูุงุช ูุงููุงูุน."); },
            s8: () => { clear(); map.setZoom(5); setTooltip("ุงูุตุบูุฑ ูุงููุจูุฑ: ุงูุชูุงุฒู ุจูู ุงููุณุงุญุฉ ูุงูุชูุงุตูู."); },
            s9: () => { clear(); L.polyline([[0, 0], [0, 1]], { color: 'black' }).addTo(analysisLayer); setTooltip("ุงูุดูุงู: ูุฑุฌุนูุชู ูู ุนุงูู ูุงุณุน."); },
            s10: () => { clear(); map.flyTo([24.7, 46.7], 8); setTooltip("Metadata: ูููุฉ ุงูุฎุฑูุทุฉ ููุตุฏุงููุชูุง."); },
            s11: () => { clear(); L.polygon([[34, 39], [34.2, 39], [34.2, 39.2], [34, 39.2]], { color: 'red' }).addTo(analysisLayer); setTooltip("ุณูููููุฌูุฉ ุงูุฃููุงู: ุงูุฃุญูุฑ ููุฎุทุฑ ูุงูุฃุฎุถุฑ ููุญูุงุฉ."); },
            s12: () => { clear(); map.setZoom(14); setTooltip("ุงูุชุจุงูู: ูุถูุงู ูุตูู ุงูุฑุณุงูุฉ ุฏูู ุบููุถ."); },
            s13: () => { clear(); map.flyTo([25.2, 55.3], 13); setTooltip("ุงูุชุณูุณู ุงูุจุตุฑู: ููุงุฏุฉ ุนูู ุงููุงุฑุฆ ูููุนูููุฉ."); },
            s14: () => { clear(); map.setZoom(11); setTooltip("ุงูุชูุงุฒู ุงูููู: ุชูุฒูุน ุงูุนูุงุตุฑ ุจุงุญุชุฑุงููุฉ."); },
            s15: () => { clear(); L.circleMarker([33.51, 36.27], { radius: 10, color: '#3b82f6' }).addTo(analysisLayer); map.flyTo([33.51, 36.27], 14); setTooltip("ุงูุชุฑููุฒ ุงูููุทู: ุชุซุจูุช ููุงูุน ุงูุฎุฏูุงุช."); },
            s16: () => { clear(); L.polyline([[33.5, 36.2], [33.55, 36.3]], { color: 'blue', weight: 4 }).addTo(analysisLayer); setTooltip("ุงูุชุฑููุฒ ุงูุฎุทู: ุฑุณู ูุณุงุฑุงุช ุงูููุฉ ูุงูุฅูุฏุงุฏ."); },
            s17: () => { clear(); L.polygon([[33.5, 36.2], [33.52, 36.2], [33.52, 36.22], [33.5, 36.22]], { color: 'green' }).addTo(analysisLayer); setTooltip("ุงูุชุฑููุฒ ุงููุณุงุญู: ุชูููุฒ ุงูุบุงุจุงุช ูุงูููุงุทู ุงูุณูููุฉ."); },
            s18: () => { clear(); map.setZoom(11); setTooltip("Labels: ูุถุน ุงูุฃุณูุงุก ูู ูู ุจุญุฏ ุฐุงุชู."); },
            s19: () => { clear(); L.marker([33.51, 36.27]).addTo(analysisLayer); setTooltip("Text Halo: ุถูุงู ูุฑุงุกุฉ ุงููุต ุงููุชุฏุงุฎู."); },
            s20: () => { clear(); map.setZoom(5); setTooltip("ุงูุชุนููู: ุชุจุณูุท ุงููุงูุน ุนูุฏ ุงูุชุตุบูุฑ."); },
            s21: () => { clear(); map.flyTo([25, 45], 5); setTooltip("ุงูุฎุฑุงุฆุท ุงูููุถูุนูุฉ: ุงูุชุฑููุฒ ุนูู ูุตุฉ ูุญุฏุฏุฉ."); },
            s22: () => { clear(); L.polygon([[24, 46], [25, 46], [25, 47], [24, 47]], { color: '#8b5cf6' }).addTo(analysisLayer); setTooltip("Choropleth: ุชุฏุฑุฌ ุงูุฃููุงู ุญุณุจ ูุซุงูุฉ ุงูุจูุงูุงุช."); },
            s23: () => { clear(); L.circleMarker([24.7, 46.7], { radius: 30, color: 'blue' }).addTo(analysisLayer); setTooltip("ุงูุฑููุฒ ุงููุณุจูุฉ: ุญุฌู ุงูุฑูุฒ ูุญูู ูููุฉ ุงููุนูู."); },
            s24: () => { clear(); for (let i = 0; i < 30; i++) L.circleMarker([24.7 + (Math.random() - 0.5) * 0.1, 46.7 + (Math.random() - 0.5) * 0.1], { radius: 2 }).addTo(analysisLayer); setTooltip("Dot Density: ุชูููุฒ ุงูุชูุฒุน ุงูุณูุงูู ูุงูุฒุฑุงุนู."); },
            s25: () => { clear(); for (let i = 0; i < 20; i++) { L.circleMarker([34.73 + (Math.random() - 0.5) * 0.1, 36.71 + (Math.random() - 0.5) * 0.1], { radius: 5, color: '#ef4444' }).addTo(analysisLayer); } map.flyTo([34.73, 36.71], 12); setTooltip("Heatmap: ุชุญููู ุงูุชุฑูุฒ ุงูููุงูู ุงูุณุงุฎู."); },
            s26: () => { clear(); L.polyline([[24.7, 46.7], [25.2, 55.3]], { color: 'orange', weight: 5 }).addTo(analysisLayer); setTooltip("Flow Maps: ุชูููุฒ ุงูุญุฑูุฉ ูุงูููุงุญุฉ ูุงููุฌุฑุฉ."); },
            s27: () => { clear(); L.polyline([[33, 36], [34, 37], [35, 36]], { color: 'gray' }).addTo(analysisLayer); setTooltip("ุงูููุชูุฑ: ุชูุตูู ุงูููู ุงููุชุณุงููุฉ ูู ุงูุงุฑุชูุงุน."); },
            s28: () => { clear(); map.setZoom(7); setTooltip("Quantile Classification: ุชูุณูู ูุชุณุงูู ููุจูุงูุงุช."); },
            s29: () => { clear(); map.setZoom(8); setTooltip("Natural Breaks: ุงูุชุดุงู ุงูููุฒุงุช ุงูููุทููุฉ."); },
            s30: () => { clear(); map.flyTo([0, 0], 1); setTooltip("ุฃุฎุทุงุก ุงูุชุธููู: ุชุฌูุจ ุงูุฅุฑุจุงู ุงูุจุตุฑู."); },
            s31: () => { clear(); map.flyTo([0, 0], 2); setTooltip("Projections: ุชุญููู ุงููุฑุฉ ุงูุฃุฑุถูุฉ ููุณุชูู."); },
            s32: () => { clear(); map.flyTo([70, 40], 3); setTooltip("Mercator: ุฏูุฉ ุงูุงุชุฌุงูุงุช ุงูุณุงุญููุฉ."); },
            s33: () => { clear(); map.flyTo([24, 46], 7); setTooltip("UTM: ุงููุธุงู ุงูุนุงููู ุงูุนุณูุฑู ุงูุฃูุซุฑ ุฏูุฉ."); },
            s34: () => { clear(); L.polyline([[24.7, 46.7], [24.8, 46.8]], { color: 'blue' }).addTo(analysisLayer); setTooltip("ููุงุณ ุงููุณุงูุงุช: ุญุณุงุจ ุฃุทูุงู ุงูุทุฑู ูุงูุฅูุฏุงุฏ."); },
            s35: () => { clear(); L.polygon([[24.7, 46.7], [24.8, 46.7], [24.8, 46.8], [24.7, 46.8]], { color: 'red' }).addTo(analysisLayer); setTooltip("ููุงุณ ุงููุณุงุญุงุช: ุชูุฏูุฑ ุญุฌู ุงูุบุงุจุงุช ูุงูุฃุถุฑุงุฑ."); },
            s36: () => { clear(); map.flyTo([34, 39], 10); setTooltip("Basemaps: ุงุฎุชูุงุฑ ุงูุฎูููุฉ ุญุณุจ ุงููููุฉ."); },
            s37: () => { clear(); L.circle([34, 39], { radius: 5000, color: 'blue' }).addTo(analysisLayer); setTooltip("Overlay: ุงูุชุดุงู ุงูุนูุงูุงุช ุงููุนูุฏุฉ ุจูู ุงูุทุจูุงุช."); },
            s38: () => { clear(); L.marker([34.1, 39.1]).addTo(analysisLayer); setTooltip("Pop-ups: ุงููุตูู ูููุนูููุงุช ุจุถุบุทุฉ ุฒุฑ."); },
            s39: () => { clear(); map.setZoom(14); setTooltip("Interactive Zoom: ุงุณุชูุดุงู ูุณุชููุงุช ุงูุชูุงุตูู."); },
            s40: () => { clear(); map.flyTo([24.71, 46.67], 15); setTooltip("Spatial Search: ุงููุตูู ุงูุณุฑูุน ูููููุน ุงููุทููุจ."); },
            s41: () => { clear(); map.flyTo([24, 46], 12); setTooltip("ุงูุฎุฑูุทุฉ ุงููุญูููุฉ: ุงูุนูู ุงูููุฏุงูู ูู ููู."); },
            s42: () => { clear(); L.circleMarker([24.7, 46.7], { color: 'cyan', radius: 15 }).addTo(analysisLayer); setTooltip("ุงูุชูุซูู ุซูุงุฆู ุงููุชุบูุฑ: ุฑุจุท ุธุงูุฑุชูู ูุนุงู."); },
            s43: () => { clear(); map.flyTo([34, 40], 5); setTooltip("Time Slider: ูุฑุงูุจุฉ ุงูุชุบูุฑ ุนุจุฑ ุงูุฒูู."); },
            s44: () => { clear(); map.flyTo([35.2, 37.8], 9); setTooltip("3D View: ุงูุจุนุฏ ุงูุซุงูุซ ูู ููู ุงูุชุถุงุฑูุณ."); },
            s45: () => { clear(); map.flyTo([24.7, 46.7], 10); setTooltip("Dashboard: ุงูุฎุฑูุทุฉ ูุฌุฒุก ูู ูุธุงู ูุนูููุงุชู."); },
            s46: () => { clear(); L.circle([24.7, 46.7], { radius: 2000, color: 'white' }).addTo(analysisLayer); setTooltip("Viewshed: ุชุญููู ูุง ุชุฑุงู ุงูุนูู ูู ุงูููุฉ."); },
            s47: () => { clear(); map.flyTo([0, 0], 3); setTooltip("StoryMaps: ุณุฑุฏ ุงููุตุต ุงูุฌุบุฑุงููุฉ ุงููุคุซุฑุฉ."); },
            s48: () => { clear(); map.flyTo([34, 40], 7); setTooltip("ุงูุฃุฎูุงููุงุช: ุงูุฃูุงูุฉ ูุงูุฏูุฉ ูู ุงูุชุตููู."); },
            s49: () => { clear(); map.flyTo([24.7136, 46.6753], 6); setTooltip("ุจุฑุงูู! ููุฏ ุฃุชููุช ูุบุฉ ุงูุฎุฑุงุฆุท ุงูุนุงูููุฉ."); },
            s50: () => { clear(); map.flyTo([34.8021, 38.9968], 7); setTooltip("ูุฑุงูู ุบุฏุงู ูู ุชุทุจููุงุช ุงูุฃูู ูุงูุฏูุงุน."); }
        };

        const steps = document.querySelectorAll(".step");
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.id;
                    const num = parseInt(id.replace('s', ''));
                    progressBar.style.width = (num / 50 * 100) + "%";
                    if (actions[id]) actions[id]();
                    steps.forEach(s => s.classList.remove('active'));
                    entry.target.classList.add('active');
                    document.querySelectorAll('.step-icon').forEach(icon => {
                        const iconNum = parseInt(icon.id.replace('icon-s', ''));
                        icon.classList.toggle('active', iconNum === num);
                        icon.classList.toggle('done', iconNum < num);
                    });
                    stepCounter.innerText = `${num} / 50`;

const activeIcon = document.getElementById(`icon-s${num}`);
if(activeIcon){
    activeIcon.scrollIntoView({
        behavior: "smooth",
        inline: "center",
        block: "nearest"
    });
}

                    document.getElementById('prev-btn').disabled = (num === 1);
                    document.getElementById('next-btn').disabled = (num === 50);
                }
            });
        }, { threshold: 0.6 });

        steps.forEach(s => observer.observe(s));

        document.getElementById('next-btn').onclick = () => [...steps].find(s => s.classList.contains('active'))?.nextElementSibling?.scrollIntoView({ behavior: 'smooth' });
        document.getElementById('prev-btn').onclick = () => [...steps].find(s => s.classList.contains('active'))?.previousElementSibling?.scrollIntoView({ behavior: 'smooth' });
        document.getElementById('restart-btn').onclick = () => steps[0].scrollIntoView({ behavior: 'smooth' });
    </script>
</body>

</html>